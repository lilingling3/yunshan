$.fn.coupon = function () {
	var _this=this;
	var cheched = $("<div class='cheched'></div>");
	$(_this).siblings("section").find(".cheched").remove();
	if($(_this).find(".cheched").length==0){
		$(_this).find(".row").append(cheched);
	}
}
jQuery.extend({
	passwordsVerify:function(pass){
		//四到六位数字或者字母
		//为空返回-2
		//小于6位或者大于16位返回-1
		//不合法返回0
		//合法返回1
		var patrn=/[^\w]$/;
		if(pass==""){
			return -2;
		}
		if(pass.length<6||pass.length>16){
			return -1;
		}
		else {
			var result = patrn.test(pass);
			if(result){
				return 0;
			}
			return 1;
		}

	},

	checkMobile:function (str) {

		var re = /^1[3|4|5|8|7]\d{9}$/;
	
		if (re.test(str)) {
			return true;
		} else {
			return false;
		}
	},
	alertDom:function( obj ){
		this.options={
			title:"弹框",
			button:[
				{
					pos:"left",
					text:"确定",
					traget:null
				},
				{
					pos:"right",
					text:"取消",
					traget:null
				}
			]
		};
		var _this=this;
		_this._alert_button=$("<div class='alert-btn-cont'></div>");

		_this.options=$.extend(_this.options,obj);
		console.log(_this.options);
		_this.alert_btn={
			Node : function( data,left ,right){
				this.data =data;
			},
			BST : function(_alert_button){
				this.root = null;
				this.insert =insert;
			},
			insert : function(data,btndata){
				var n=new this.Node(data);
				if(this.root== null){
					this.root =n;
				}
				else{
					var current= this.root;
					n.data.appendTo(this.root.data);
					console.log(btndata);
					console.log(btndata.traget);
					if(btndata.traget) {
						n.data.bind("click",function(){
							_this.cancel(btndata.traget)
						});
					}
					else{
						n.data.bind("click",_this.remove);
					}
				}
			}
		}
		_this.remove = function(){
			$(".alert-layer").remove()

		}
		_this.cancel= function (fuc) {
			_this.remove()
			if(typeof fuc == "function"){
				fuc();
			}
		}

		_this.create_btnss = function(){
			_this.alert_btn.insert(_this._alert_button);
			for(var i=0,btns=_this.options.button,btn;btn=btns[i++];){
				_this.alert_btn.insert($("<span>"+btn.text+"</span>"),btn);
			}

		}
		_this.create = function(){
			$(".alert-layer").length > 0 ? $(".alert-layer").remove():console.log("hello");
			_this._alert_layer=$("<div class='alert-layer'></div>");
			_this._alert_layer.appendTo($("body"));

			_this._alert=$("<div class='alert-dom'></div>");
			_this._alert.appendTo(_this._alert_layer);
			_this.alert_in_layer=$("<div class='alert-in-layer'></div>");
			_this.alert_in_layer.appendTo(_this._alert_layer);

			_this._alert_context=$("<div class='alert-context'>"+_this.options.title+"</div>");
			_this._alert_context.appendTo(_this._alert)
			_this._alert_button=$("<div class='alert-btn-cont'></div>");
			_this._alert_button.appendTo(_this._alert)

			_this.create_btnss();


		}();
	}

});